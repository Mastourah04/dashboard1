<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Energy Market AI Predictor</title>

<script src="https://s3.tradingview.com/tv.js"></script>

<style>
:root{
  --green:#00ff88;
  --red:#ff3b3b;
  --glass:rgba(255,255,255,0.06);
}

body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:white;
}

header{
  padding:20px 40px;
  border-bottom:1px solid rgba(255,255,255,0.1);
}

.container{
  display:flex;
}

.sidebar{
  width:260px;
  padding:20px;
  border-right:1px solid rgba(255,255,255,0.1);
}

.sidebar p{
  font-size:13px;
  opacity:0.8;
  margin:8px 0;
}

.main{
  flex:1;
  padding:30px;
}

.select-section{
  display:flex;
  gap:20px;
  margin-bottom:30px;
}

select,button{
  padding:12px 18px;
  border-radius:10px;
  border:none;
  font-size:14px;
}

button{
  background:var(--green);
  color:black;
  font-weight:bold;
  cursor:pointer;
  transition:0.3s;
}

button:hover{
  transform:scale(1.05);
}

.cards{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:20px;
  margin-bottom:30px;
}

.card{
  background:var(--glass);
  backdrop-filter:blur(12px);
  padding:20px;
  border-radius:18px;
  text-align:center;
  transition:0.3s;
}

.glow-up{
  border:1px solid var(--green);
  box-shadow:0 0 20px var(--green);
}

.glow-down{
  border:1px solid var(--red);
  box-shadow:0 0 20px var(--red);
}

.confidence-container{
  display:flex;
  justify-content:center;
  margin-bottom:30px;
}

.confidence-circle{
  width:170px;
  height:170px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:30px;
  font-weight:bold;
  background:conic-gradient(var(--green) 0%, #333 0%);
  transition:0.8s ease;
}

.loading{
  opacity:0.6;
  pointer-events:none;
}

#tradingview_chart{
  height:600px;
}
</style>
</head>

<body>

<header>
  <h2>Energy Market AI Predictor (Demo Mode)</h2>
  <span style="font-size:13px;opacity:0.7;">
    Attention-LSTM Direction Forecasting
  </span>
</header>

<div class="container">

<div class="sidebar">
  <h3>Model Information</h3>
  <p>Model: Attention-LSTM</p>
  <p>Window Size: 60</p>
  <p>Validation: Time-Series Split</p>
  <p>Data Source: Yahoo Finance</p>
  <p>Training Period: 2010â€“2020</p>
  <p>Validation Accuracy: <strong>71.3%</strong></p>
</div>

<div class="main">

<div class="select-section">
<select id="assetSelect">
<option>Brent</option>
<option>WTI</option>
<option>Aramco</option>
<option>ADNOC</option>
<option>QFLS</option>
<option>BPCC</option>
<option>OQEP</option>
</select>

<button onclick="generatePrediction()" id="predictBtn">
Generate AI Prediction
</button>
</div>

<div class="cards">
<div class="card" id="directionCard">
<h4>Predicted Direction</h4>
<p id="direction">--</p>
</div>

<div class="card">
<h4>Confidence</h4>
<p id="signalStrength">--</p>
</div>

<div class="card">
<h4>Probability Split</h4>
<p id="probSplit">--</p>
</div>
</div>

<div class="confidence-container">
<div class="confidence-circle" id="confidenceCircle">
<span id="confidenceValue">0%</span>
</div>
</div>

<div id="tradingview_chart"></div>

</div>
</div>

<script>

let tvWidget;

function loadChart(symbol){
  document.getElementById("tradingview_chart").innerHTML="";
  tvWidget=new TradingView.widget({
    container_id:"tradingview_chart",
    width:"100%",
    height:600,
    symbol:symbol,
    interval:"D",
    theme:"dark"
  });
}

loadChart("ICEEUR:BRN1!");

document.getElementById("assetSelect").addEventListener("change",function(){
  const mapping={
    "Brent":"ICEEUR:BRN1!",
    "WTI":"NYMEX:CL1!",
    "Aramco":"TADAWUL:2222",
    "ADNOC":"ADX:ADNOCDIST",
    "QFLS":"QSE:QFLS",
    "BPCC":"QSE:BPCC",
    "OQEP":"MSM:OQEP"
  };
  loadChart(mapping[this.value]);
});

function generatePrediction(){

  const btn=document.getElementById("predictBtn");
  btn.innerText="Generating...";
  btn.classList.add("loading");

  setTimeout(()=>{

    const direction=Math.random()>0.5?"UP":"DOWN";
    const confidence=(Math.random()*28+60).toFixed(2);

    updateUI(direction,confidence);

    btn.innerText="ðŸš€ Generate AI Prediction";
    btn.classList.remove("loading");

  },1200);
}

function updateUI(direction,confidence){

  const directionCard=document.getElementById("directionCard");
  const circle=document.getElementById("confidenceCircle");

  const probDown=(100-confidence).toFixed(2);

  document.getElementById("direction").innerText=
    direction==="UP"?"UP ðŸ“ˆ":"DOWN ðŸ“‰";

  document.getElementById("signalStrength").innerText=
    confidence+"%";

  document.getElementById("confidenceValue").innerText=
    confidence+"%";

  document.getElementById("probSplit").innerText=
    "Up: "+confidence+"% | Down: "+probDown+"%";

  if(direction==="UP"){
    directionCard.classList.add("glow-up");
    directionCard.classList.remove("glow-down");
    circle.style.background=
      `conic-gradient(var(--green) ${confidence}%, #333 ${confidence}%)`;
  }else{
    directionCard.classList.add("glow-down");
    directionCard.classList.remove("glow-up");
    circle.style.background=
      `conic-gradient(var(--red) ${confidence}%, #333 ${confidence}%)`;
  }
}

</script>

</body>
</html>
